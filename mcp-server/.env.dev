# MCP Draw.io Server - Development Environment Configuration
# Copy this file to .env for development setup

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# Anthropic API Key (REQUIRED)
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Build configuration
VERSION=dev
BUILDTIME=

# Server metadata
SERVER_NAME=MCP Draw.io Server (Dev)
SERVER_VERSION=dev
PROTOCOL_VERSION=2024-11-05

# =============================================================================
# APPLICATION SETTINGS (Development Optimized)
# =============================================================================

# Temporary files directory
TEMP_DIR=/app/temp

# Draw.io CLI path
DRAWIO_CLI_PATH=drawio

# Cache settings (shorter for development)
CACHE_TTL=300
MAX_CACHE_SIZE=50

# File management (shorter expiry for development)
FILE_EXPIRY_HOURS=1
CLEANUP_INTERVAL_MINUTES=5

# Request timeout (shorter for development)
REQUEST_TIMEOUT=60

# Logging (verbose for development)
LOG_LEVEL=DEBUG

# Development flags
DEVELOPMENT_MODE=true
DEBUG=true

# =============================================================================
# DEVELOPMENT DOCKER SETTINGS
# =============================================================================

# Development port (optional debug port)
DEV_PORT=8080

# Health check settings (faster for development)
HEALTH_CHECK_INTERVAL=15s
HEALTH_CHECK_TIMEOUT=5s
HEALTH_CHECK_START_PERIOD=10s
HEALTH_CHECK_RETRIES=2

# Logging settings (more verbose for development)
LOG_MAX_SIZE=50m
LOG_MAX_FILES=5

# =============================================================================
# DEVELOPMENT PATHS
# =============================================================================

# Data directories (will be created if they don't exist)
TEMP_DATA_PATH=./temp_dev
LOGS_DATA_PATH=./logs_dev

# Network configuration
NETWORK_SUBNET=172.21.0.0/16

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================

# 1. This configuration is optimized for development and debugging
# 2. Shorter cache TTL and file expiry for faster iteration
# 3. Debug logging enabled for troubleshooting
# 4. Source code is mounted for hot reloading
# 5. No resource limits for easier debugging
# 6. Health checks are more frequent for faster feedback

# =============================================================================
# USAGE
# =============================================================================

# Start development environment:
#   docker-compose -f docker-compose.dev.yml up --build
#
# Start with logs:
#   docker-compose -f docker-compose.dev.yml up --build --attach mcp-server-dev
#
# Run in background:
#   docker-compose -f docker-compose.dev.yml up -d --build
#
# Stop development environment:
#   docker-compose -f docker-compose.dev.yml down
#
# Clean up development data:
#   docker-compose -f docker-compose.dev.yml down -v