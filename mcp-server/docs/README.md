# MCP Draw.io ã‚µãƒ¼ãƒãƒ¼ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## æ¦‚è¦

MCP Draw.io ã‚µãƒ¼ãƒãƒ¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¸ã‚ˆã†ã“ãã€‚ã“ã®ã‚µãƒ¼ãƒãƒ¼ã¯ã€Model Context Protocolï¼ˆMCPï¼‰ã‚’é€šã˜ã¦Draw.ioã‚’ä½¿ç”¨ã—ãŸè‡ªç„¶è¨€èªã«ã‚ˆã‚‹å›³è¡¨ç”Ÿæˆã‚’å¯èƒ½ã«ã—ã€Claude Codeã‹ã‚‰ç›´æ¥ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªå›³è¡¨ã‚’ç°¡å˜ã«ä½œæˆã§ãã¾ã™ã€‚

## ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ³ã‚¯

### ã¯ã˜ã‚ã«
- ğŸš€ [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](INSTALLATION_GUIDE.md) - å®Œå…¨ãªã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
- ğŸ“– [ä½¿ç”¨ã‚¬ã‚¤ãƒ‰](MCP_SERVER_USAGE_GUIDE.md) - ã‚µãƒ¼ãƒãƒ¼ã®ä½¿ç”¨æ–¹æ³•
- ğŸ”§ [Claude Codeçµ±åˆ](CLAUDE_CODE_INTEGRATION.md) - Claude Codeã¨ã®çµ±åˆ

### æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- ğŸ“‹ [APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](API_DOCUMENTATION.md) - ã‚µãƒ¼ãƒãƒ¼APIã¨ãƒ„ãƒ¼ãƒ«ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- ğŸ—ï¸ [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦](../DEPLOYMENT.md) - ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨è¨­è¨ˆ
- ğŸ³ [Dockerã‚¬ã‚¤ãƒ‰](../docker/README.md) - ã‚³ãƒ³ãƒ†ãƒŠãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ

### ãƒ†ã‚¹ãƒˆã¨é–‹ç™º
- ğŸ§ª [ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰](../tests/README.md) - ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã¨æ¤œè¨¼
- ğŸ” [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](TROUBLESHOOTING.md) - ä¸€èˆ¬çš„ãªå•é¡Œã¨è§£æ±ºç­–
- ğŸ› ï¸ [é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰](DEVELOPER_GUIDE.md) - è²¢çŒ®ã¨é–‹ç™º

## MCP Draw.io ã‚µãƒ¼ãƒãƒ¼ã¨ã¯ï¼Ÿ

MCP Draw.io ã‚µãƒ¼ãƒãƒ¼ã¯ã€3ã¤ã®ä¸»è¦æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠåŒ–ã•ã‚ŒãŸã‚µãƒ¼ãƒ“ã‚¹ã§ã™ï¼š

1. **è‡ªç„¶è¨€èªã‹ã‚‰å›³è¡¨ã¸**: ãƒ†ã‚­ã‚¹ãƒˆè¨˜è¿°ã‚’Draw.io XMLå›³è¡¨ã«å¤‰æ›
2. **ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†**: è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—æ©Ÿèƒ½ä»˜ãã®å›³è¡¨ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ãƒ»ç®¡ç†
3. **ç”»åƒå¤‰æ›**: Draw.io CLIã‚’ä½¿ç”¨ã—ã¦Draw.ioãƒ•ã‚¡ã‚¤ãƒ«ã‚’PNGç”»åƒã«å¤‰æ›

### ä¸»è¦æ©Ÿèƒ½

- âœ… **è‡ªç„¶è¨€èªå‡¦ç†**: å›³è¡¨ã‚’å¹³æ˜“ãªæ—¥æœ¬èªã§è¨˜è¿°
- âœ… **è¤‡æ•°ã®å›³è¡¨ã‚¿ã‚¤ãƒ—**: ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã€AWSã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒãªã©
- âœ… **ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«å‡ºåŠ›**: é«˜å“è³ªãªDraw.ioäº’æ›å›³è¡¨
- âœ… **ç”»åƒã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**: Draw.io CLIã«ã‚ˆã‚‹PNGå¤‰æ›
- âœ… **ã‚³ãƒ³ãƒ†ãƒŠåŒ–**: Dockerã«ã‚ˆã‚‹ç°¡å˜ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
- âœ… **MCPäº’æ›**: Claude Codeã¨ã®ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹é€£æº
- âœ… **ã‚»ã‚­ãƒ¥ã‚¢**: érootå®Ÿè¡Œã€ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
- âœ… **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«**: ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™ã¨æ°´å¹³ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°å¯¾å¿œ

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. å‰ææ¡ä»¶
- Dockerã¨Docker Compose
- Anthropic APIã‚­ãƒ¼
- MCPå¯¾å¿œã®Claude Code

### 2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone <repository-url>
cd mcp-server

# ç’°å¢ƒè¨­å®š
cp .env.example .env
# .envã‚’ç·¨é›†ã—ã¦ANTHROPIC_API_KEYã‚’è¿½åŠ 

# ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
docker-compose up --build
```

### 3. Claude Codeè¨­å®š
MCPè¨­å®šã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š
```json
{
  "mcpServers": {
    "drawio-server": {
      "command": "docker",
      "args": ["run", "--rm", "-i", "--env-file", "/path/to/.env", "mcp-drawio-server"]
    }
  }
}
```

### 4. å›³è¡¨ä½œæˆé–‹å§‹
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¤ºã™ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„

Claude: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ—ãƒ­ã‚»ã‚¹ã®ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚
[MCPãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ç”Ÿæˆã€ä¿å­˜ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§PNGã«å¤‰æ›]
```

## åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«

### generate-drawio-xml
è‡ªç„¶è¨€èªè¨˜è¿°ã‚’Draw.io XMLå›³è¡¨ã«å¤‰æ›ã—ã¾ã™ã€‚

**ä½¿ç”¨ä¾‹:**
- "ALBã€EC2ã€RDSã‚’å«ã‚€AWSã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ä½œæˆ"
- "ECã‚µã‚¤ãƒˆç”¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã‚’è¨­è¨ˆ"
- "CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã‚’ä½œæˆ"

### save-drawio-file
ç”Ÿæˆã•ã‚ŒãŸXMLã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä¸€æ„ã®IDã‚’æŒã¤ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã—ã¾ã™ã€‚

**æ©Ÿèƒ½:**
- UUIDã«ã‚ˆã‚‹è‡ªå‹•ãƒ•ã‚¡ã‚¤ãƒ«å‘½å
- è¨­å®šå¯èƒ½ãªæœ‰åŠ¹æœŸé™
- ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¿½è·¡

### convert-to-png
Draw.io CLIã‚’ä½¿ç”¨ã—ã¦Draw.ioãƒ•ã‚¡ã‚¤ãƒ«ã‚’PNGç”»åƒã«å¤‰æ›ã—ã¾ã™ã€‚

**æ©Ÿèƒ½:**
- é«˜å“è³ªç”»åƒå‡ºåŠ›
- Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Claude Code   â”‚â”€â”€â”€â–¶â”‚  MCP Draw.io    â”‚â”€â”€â”€â–¶â”‚   Claude API    â”‚
â”‚                 â”‚    â”‚     Server      â”‚    â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   Draw.io CLI   â”‚
                       â”‚  (PNG Export)   â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Documentation Structure

### User Guides
- **[Installation Guide](INSTALLATION_GUIDE.md)**: Step-by-step setup for all environments
- **[Usage Guide](MCP_SERVER_USAGE_GUIDE.md)**: Comprehensive usage instructions and examples
- **[Claude Code Integration](CLAUDE_CODE_INTEGRATION.md)**: Detailed integration guide

### Technical References
- **[API Documentation](../README.md)**: Complete API reference and tool specifications
- **[Docker Documentation](../docker/README.md)**: Container deployment and optimization
- **[Testing Documentation](../tests/README.md)**: Test suites and validation procedures

### Troubleshooting and Support
- **[Troubleshooting Guide](TROUBLESHOOTING.md)**: Common issues and solutions
- **[FAQ](FAQ.md)**: Frequently asked questions
- **[Development Guide](DEVELOPMENT.md)**: Contributing and development setup

## ã‚µãƒãƒ¼ãƒˆã•ã‚Œã‚‹å›³è¡¨ã‚¿ã‚¤ãƒ—

### ãƒ“ã‚¸ãƒã‚¹å›³è¡¨
- ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã¨ãƒ—ãƒ­ã‚»ã‚¹ãƒ•ãƒ­ãƒ¼
- çµ„ç¹”å›³
- ãƒ“ã‚¸ãƒã‚¹ãƒ—ãƒ­ã‚»ã‚¹ãƒ¢ãƒ‡ãƒ«
- æ±ºå®šæœ¨

### æŠ€è¡“å›³è¡¨
- ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å›³
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒï¼ˆERå›³ï¼‰
- APIãƒ•ãƒ­ãƒ¼å›³

### ã‚¯ãƒ©ã‚¦ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- AWSã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³
- Azureã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³
- Google Cloudå›³
- ãƒãƒ«ãƒã‚¯ãƒ©ã‚¦ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™º
- UMLå›³
- ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³
- ã‚¯ãƒ©ã‚¹å›³
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå›³

## Environment Support

### Development
- Hot reloading with volume mounts
- Debug logging
- Shorter cache times
- Development-specific configurations

### Production
- Optimized resource usage
- Security hardening
- Monitoring and logging
- Health checks and auto-restart

### Testing
- Automated test suites
- Container validation
- Integration testing
- Performance benchmarks

## Security Features

- **Non-root execution**: Container runs as unprivileged user
- **Read-only filesystem**: Minimal write access
- **Automatic cleanup**: Temporary files are automatically removed
- **Resource limits**: CPU and memory constraints
- **Network isolation**: Minimal network access requirements

## Performance Optimization

- **Caching**: Intelligent caching of LLM responses
- **Resource management**: Configurable limits and cleanup
- **Multi-stage builds**: Optimized container images
- **Horizontal scaling**: Support for multiple instances

## Getting Help

### Documentation
1. Start with the [Installation Guide](INSTALLATION_GUIDE.md)
2. Follow the [Usage Guide](MCP_SERVER_USAGE_GUIDE.md)
3. Check [Troubleshooting](TROUBLESHOOTING.md) for common issues

### Support Channels
- GitHub Issues for bug reports
- Discussions for questions and ideas
- Documentation improvements via pull requests

### Community
- Share your diagram examples
- Contribute to documentation
- Report issues and suggest improvements

## Contributing

We welcome contributions! Please see:
- [Development Guide](DEVELOPMENT.md) for setup instructions
- [Contributing Guidelines](../CONTRIBUTING.md) for code standards
- [Testing Guide](../tests/README.md) for test requirements

## License

This project is licensed under the MIT License. See [LICENSE](../LICENSE) for details.

---

**Ready to get started?** Begin with the [Installation Guide](INSTALLATION_GUIDE.md) and start creating amazing diagrams with natural language!